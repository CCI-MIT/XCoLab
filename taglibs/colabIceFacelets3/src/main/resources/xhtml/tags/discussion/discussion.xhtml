<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:ice="http://www.icesoft.com/icefaces/component" 
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:collab="http://climatecollaboratorium.org/facelets"
    xmlns:liferay-faces="http://liferay.com/tld/faces">
    <div style="display: none">#{discussionId} #{groupId}</div>
    <collab:discussionSupport discussionBean="#{discussionBean}" discussionId="#{discussionId}" groupId="#{groupId}" comments="#{comments}" >
        <f:subview rendered="#{discussionBean.pageType == 'DISCUSSIONS'}">
            <ui:include src="./pages/discussions.xhtml" />
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'CATEGORIES'}">
            <ui:include src="./pages/categories.xhtml" />
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'CATEGORY'}">
            <ui:include src="./pages/category.xhtml" />
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'CATEGORY_ADD'}">
            <ui:include src="./pages/category_add.xhtml" />
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'THREAD'}">
            <ui:include src="./pages/thread_new.xhtml" />
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'THREAD_ADD'}">
            <ui:include src="./pages/thread_add.xhtml">
                <ui:param name="entity" value="#{discussionBean.currentCategory.newThread}" />
            </ui:include>
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'SEARCH_RESULTS'}">
            <ui:include src="./pages/searchResults.xhtml" />
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'PERMISSIONS_CONFIG'}">
            <ui:include src="./pages/permissionsConfig.xhtml" />
        </f:subview>
        <f:subview rendered="#{discussionBean.pageType == 'COMMENTS'}">
            <ui:include src="./pages/comments.xhtml" />
        </f:subview>
    </collab:discussionSupport>
    <div style="display: none;">#{discussionBean.pageType}</div>
</f:view>