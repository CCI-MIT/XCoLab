<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2010. M.I.T. All Rights Reserved
  ~ Licensed under the MIT license. Please see http://www.opensource.org/licenses/mit-license.php
  ~ or the license.txt file included in this distribution for the full text of the license.
  -->

<f:view xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core" 
    xmlns:ice="http://www.icesoft.com/icefaces/component" 
    xmlns:ui="http://java.sun.com/jsf/facelets" 
    xmlns:fn="http://java.sun.com/jsp/jstl/functions"
    xmlns:liferay-faces="http://liferay.com/tld/faces">
    <ice:panelGroup rendered="#{not simulationDetailsBean.tabEditing}">
        <ice:panelSeries value="#{simulationDetailsBean.positionsQuestions}" var="question">
            <div class="assumption">
                <h3 class="question">#{question.debateAnchor}</h3>
                <h4 class="position">#{question.selectedPosition.itemAnchor}</h4>
            </div>
        </ice:panelSeries>
        <ice:panelGroup rendered="#{fn:length(simulationDetailsBean.positionsQuestions) == 0}">
            <div class="nothingSetInfo">
                <div class="nothingSetMessage">No assumptions set.</div>
            </div>
        </ice:panelGroup>
    </ice:panelGroup>
    
    <ice:panelGroup rendered="#{simulationDetailsBean.tabEditing}">
            <ice:panelSeries value="#{simulationDetailsBean.availablePositions}" var="question">
                <div class="assumption">
                    <h3 class="question">#{question.debateAnchor}</h3>
                    <ice:selectOneRadio value="#{question.position}" styleClass="versionedRadio positionItem" layout="pageDirection">
                        <f:selectItems value="#{question.positions}"><br /></f:selectItems>
                    </ice:selectOneRadio>
                </div>
             
            </ice:panelSeries>
            <ice:panelGroup>
                <script language="javascript">
                    //updatePositionsSelection(#{planBean.planPositionsBean.selectedPositionsIds});
                </script>
            </ice:panelGroup>
            <ice:commandButton actionListener="#{simulationDetailsBean.updatePositions}" value="Save" />
            <ice:commandButton actionListener="#{simulationDetailsBean.toggleEdit}" value="Cancel" />
        </ice:panelGroup>
</f:view>