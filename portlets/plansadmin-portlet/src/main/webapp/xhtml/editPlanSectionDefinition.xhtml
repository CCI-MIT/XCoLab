<?xml version="1.0"?>
<!--
  ~ Copyright (c) 2010. M.I.T. All Rights Reserved
  ~ Licensed under the MIT license. Please see http://www.opensource.org/licenses/mit-license.php
  ~ or the license.txt file included in this distribution for the full text of the license.
  -->
<f:view
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:liferay-faces="http://liferay.com/tld/faces"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:collab="http://climatecollaboratorium.org/facelets"
    >
    <ice:portlet>
    <style>
            label {
                font-weight: bold;
            }
            .col1 {
                vertical-align: top;
                padding: 20px 20px 0 10px;
            }
            
            .col2 {
                vertical-align: top;
                padding: 20px 10px 10px 10px;
            }
            table {
                width: 100%;
            }
            
            td  {
                border-bottom: 1px solid #ccc;
                padding: 5px;
            }
            
            
            
            .even {
                background: #f0f0f0;
            }
            input  {
                width: 100%;
            }
            .defaultText {
                width: 100%;
                height: 100px;
            }
        </style>
        <h1>#{planSectionDefinitionsAdmin.edited.definition}</h1>
        <h1>Edit PlanSectionDefinition #{planSectionDefinitionsAdmin.edited.definition.title}</h1>
        
        <h1>${planSectionDefinitionsAdmin.edited.type}</h1>
        <ice:form>
        	<ice:panelGrid cellspacing="0" columnClasses="col1, col2" rowClasses="odd, even" cellpadding="5" columns="2">
        
          	 	<ice:outputLabel value="Section type" />
           		<ice:selectOneMenu valueChangeListener="#{planSectionDefinitionsAdmin.edited.typeChanged}" value="#{planSectionDefinitionsAdmin.edited.type}" partialSubmit="true">
             		<f:selectItems value="#{planSectionDefinitionsAdmin.edited.availableTypes}" />
           		</ice:selectOneMenu>
        	</ice:panelGrid>
        </ice:form>
        <ice:form>
        
        <ice:panelGrid cellspacing="0" columnClasses="col1, col2" rowClasses="odd, even" cellpadding="5" columns="2">
           <ice:outputLabel value="Admin title" />
           <ice:inputText value="#{planSectionDefinitionsAdmin.edited.definition.adminTitle}" styleClass="inputWide"  />
           
           <ice:outputLabel value="Title" />
           <ice:inputText value="#{planSectionDefinitionsAdmin.edited.definition.title}" styleClass="inputWide"  />
           
           <ice:outputLabel value="Characters limit (set to 0 to be unlimited)" />
           <ice:inputText value="#{planSectionDefinitionsAdmin.edited.definition.characterLimit}" />
           
           <ice:outputLabel value="Focus area" />
           <ice:selectOneMenu valueChangeListener="#{planSectionDefinitionsAdmin.edited.focusAreaChange}" value="#{planSectionDefinitionsAdmin.edited.focusAreaId}" >
             <f:selectItems value="#{planSectionDefinitionsAdmin.edited.availableFocusAreas}" />
           </ice:selectOneMenu>

            <ice:outputLabel value="Contest tier" />
            <ice:selectOneMenu valueChangeListener="#{planSectionDefinitionsAdmin.edited.tierChange}" value="#{planSectionDefinitionsAdmin.edited.tier}" >
                <f:selectItems value="#{planSectionDefinitionsAdmin.edited.availableTiers}" />
            </ice:selectOneMenu>
           
           
           <ice:outputLabel value="Locked" />
           <ice:selectBooleanCheckbox value="#{planSectionDefinitionsAdmin.edited.definition.locked}" />
       </ice:panelGrid>
       <f:subview rendered="${planSectionDefinitionsAdmin.edited.type == 'TEXT'}">
       	<ui:include src="./sectionTypes/sectionType_TEXT.xhtml" />
       </f:subview>
        	
        
        <ice:panelGrid cellspacing="0" columnClasses="col1, col2" rowClasses="odd, even" cellpadding="5" columns="2">
           <ice:outputText />
           <ice:commandButton value="Save" action="#{planSectionDefinitionsAdmin.edited.save}" />
        
        </ice:panelGrid>
           <ice:commandButton value="Back" action="backToIndex" />
    </ice:form></ice:portlet>
</f:view>