<?xml version="1.0"?>
<!--
  ~ Copyright (c) 2010. M.I.T. All Rights Reserved
  ~ Licensed under the MIT license. Please see http://www.opensource.org/licenses/mit-license.php
  ~ or the license.txt file included in this distribution for the full text of the license.
  -->
<f:view
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ice="http://www.icesoft.com/icefaces/component"
    xmlns:liferay-faces="http://liferay.com/tld/faces"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:collab="http://climatecollaboratorium.org/facelets"
    >
    <ice:portlet>
    <ice:messages />
    <ice:form>
    <style>
            label {
                font-weight: bold;
            }
            .col1 {
                vertical-align: top;
                padding: 20px 20px 0 10px;
                width: 80px;
            }
            
            .col2 {
                vertical-align: top;
                padding: 20px 10px 10px 10px;
            }
            table {
                width: 100%;
            }
            
            td  {
                border-bottom: 1px solid #ccc;
                padding: 5px;
            }
            
            .even {
                background: #f0f0f0;
            }
            input  {
                width: 100%;
            }
            textarea {
                width: 100%;
                height: 100px;
            }
        </style>
        <h1>Edit contest #{contestsAdmin.editedContest.contestShortName}</h1>
        <ice:panelGrid cellspacing="0" columnClasses="col1, col2" rowClasses="odd, even" cellpadding="5" columns="2">
        
           <ice:outputLabel value="Short name" />
           <ice:inputText value="#{contestsAdmin.editedContest.contest.contestShortName}" />
           
           <ice:outputLabel value="Name" />
           <ice:inputText value="#{contestsAdmin.editedContest.contest.contestName}" />
           
           <ice:outputLabel value="Description" />
           <ice:inputTextarea value="#{contestsAdmin.editedContest.contest.contestDescription}" />
        
           <ice:outputLabel value="Model description" />
           <ice:inputText value="#{contestsAdmin.editedContest.contest.contestModelDescription}" />
           
           <ice:outputLabel value="Plan template" />
           
           <ice:selectOneMenu valueChangeListener="#{contestsAdmin.editedContest.planTemplateChange}" value="#{contestsAdmin.editedContest.contest.planTemplateId}">
             <f:selectItems value="#{contestsAdmin.editedContest.availablePlanTemplates}" />
           </ice:selectOneMenu>
           
           <ice:outputLabel value="Focus area" />
           
           <ice:selectOneMenu valueChangeListener="#{contestsAdmin.editedContest.planFocusAreaChange}" value="#{contestsAdmin.editedContest.contest.focusAreaId}">
             <f:selectItems value="#{contestsAdmin.editedContest.availableFocusAreas}" />
           </ice:selectOneMenu>
           
           <ice:outputLabel value="Featured" />
           <ice:selectBooleanCheckbox value="#{contestsAdmin.editedContest.featured}" />
           
           <ice:outputLabel value="Plans opened by default" />
           <ice:selectBooleanCheckbox value="#{contestsAdmin.editedContest.plansOpenByDefault}" />
           
           
           <ice:outputLabel value="Flag number (ie 1 for featured)" />
           <ice:inputText value="#{contestsAdmin.editedContest.flag}" />
           
           <ice:outputLabel value="Flag text (ie. featured)" />
           <ice:inputText value="#{contestsAdmin.editedContest.flagText}" />
           <!-- 
           <ice:outputLabel value="Flag tooltip" />
           <ice:inputText value="#{contestsAdmin.editedContest.flagTooltip}" />
            -->
           
           <ice:outputLabel value="Resources url" />
           <ice:inputText value="#{contestsAdmin.editedContest.contest.resourcesUrl}" />
           
           <ice:outputLabel value="Sort weight" />
           <ice:inputText value="#{contestsAdmin.editedContest.contest.weight}" />
           
           <ice:outputLabel value="Contest logo" />
           
           <f:subview>
                <img src="#{contestsAdmin.editedContest.logo}" />
                
                <ice:inputFile actionListener="#{contestsAdmin.editedContest.uploadLogo}" styleClass="filepc" autoUpload="true" />
           
           </f:subview>
           
           
            <ice:outputLabel value="Sponsor text" />
           <ice:inputText value="#{contestsAdmin.editedContest.contest.sponsorText}" />
           
           <ice:outputLabel value="Sponsor logo" />
           
           <f:subview>
                <img src="#{contestsAdmin.editedContest.sponsorLogo}" />
                
                <ice:inputFile actionListener="#{contestsAdmin.editedContest.uploadSponsorLogo}" styleClass="filepc" autoUpload="true" />
           
           </f:subview>
           
           
           <ice:outputText />
           
           <ice:commandButton value="Save" action="#{contestsAdmin.editedContest.save}" />
        </ice:panelGrid>
        
        <ice:commandButton value="Back" action="backToIndex" />
        <br /><br />
        <ice:commandButton value="Populate plans with focus area" actionListener="#{contestsAdmin.editedContest.populateFAtoPlans}" />
    </ice:form></ice:portlet>
</f:view>