<?xml version="1.0"?>
<f:view
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ice="http://www.icesoft.com/icefaces/component"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:collab="http://climatecollaboratorium.org/facelets"
        xmlns:sharedcollab="http://climatecollaboratorium.org/components">
        
        <span>
            <f:subview rendered="#{not empty contest.contest.phases}">
                <ui:repeat value="#{contest.contest.phases}" var="phase">
                    <div class="phaseLinkContainer">
                        <span class="fieldWithTooltip">
                            <ui:include src="./widget_PHASE_LINK.xhtml" />
                        </span>
                        <div class="tooltip">
                            <f:subview rendered="#{not empty phase.phaseStatusDescription}">
                                #{phase.phaseStatusDescription}&amp;nbsp;
                            </f:subview>
                            <f:subview rendered="#{not empty phase.startDate}"> 
                                <ice:outputText value="#{phase.startDate}"  nospan="true">
									<f:convertDateTime locale="en_US" type="both" dateStyle="short" timeZone="America/Boston" />
                                </ice:outputText>
                                <f:subview rendered="#{not empty phase.endDate}"> - <ice:outputText value="#{phase.endDate}" nospan="true">
									<f:convertDateTime locale="en_US" type="both" dateStyle="short" timeZone="America/Boston" />
                                </ice:outputText></f:subview>
                            </f:subview>
                            <div class="tt-arrow"></div></div>
                    </div>
                    <f:subview rendered="#{not phase.last}">
                        <div class="phaseSeparatorContainer">
                            <div class="phaseSeparator"><!--  --></div>
                        </div>
                    </f:subview>
                    
                </ui:repeat>
            </f:subview>
            <f:subview rendered="#{empty contest.contest.phases}">
                No phases
            </f:subview>
        </span>
</f:view>
